{"abstract":[{"type":"text","text":"Updates legacy avatar image stored on mTS service for a profile user."}],"identifier":{"url":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeServiceClient\/updateUserAvatarLegacy(service:authorization:profileUser:image:attributeKey:targetSize:compressionQuality:bytesLimit:)","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore","doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeServiceClient"]]},"metadata":{"modules":[{"name":"EdgeCore"}],"symbolKind":"method","externalID":"s:8EdgeCore0A13ServiceClientP22updateUserAvatarLegacy7service13authorization07profileF05image12attributeKey10targetSize18compressionQuality10bytesLimits6ResultOy0F0QzSo7NSErrorCGAA0aD0C0C0V_AU13AuthorizationVAPSo7UIImageCSSSgSo6CGSizeVSg0B10Foundation7CGFloatVSgSiSgtYaF","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"updateUserAvatarLegacy"},{"text":"(","kind":"text"},{"text":"service","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@EdgeCore@objc(cs)EdgeClient","kind":"typeIdentifier","text":"EdgeClient"},{"text":".","kind":"text"},{"text":"Service","kind":"typeIdentifier","preciseIdentifier":"s:8EdgeCore0A6ClientC7ServiceV"},{"text":", ","kind":"text"},{"text":"authorization","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"c:@M@EdgeCore@objc(cs)EdgeClient","text":"EdgeClient","kind":"typeIdentifier"},{"text":".","kind":"text"},{"kind":"typeIdentifier","text":"Authorization","preciseIdentifier":"s:8EdgeCore0A6ClientC13AuthorizationV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"profileUser"},{"kind":"text","text":": "},{"text":"User","kind":"typeIdentifier","preciseIdentifier":"s:8EdgeCore0A13ServiceClientP4UserQa"},{"kind":"text","text":", "},{"text":"image","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"UIImage","preciseIdentifier":"c:objc(cs)UIImage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"attributeKey"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"targetSize"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"CGSize","preciseIdentifier":"c:@S@CGSize"},{"kind":"text","text":"?, "},{"text":"compressionQuality","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:14CoreFoundation7CGFloatV","text":"CGFloat","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"kind":"externalParam","text":"bytesLimit"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"text":"?) ","kind":"text"},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Result","preciseIdentifier":"s:s6ResultO"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:8EdgeCore0A13ServiceClientP4UserQa","kind":"typeIdentifier","text":"User"},{"text":", ","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSError","kind":"typeIdentifier","text":"NSError"},{"kind":"text","text":">"}],"roleHeading":"Instance Method","title":"updateUserAvatarLegacy(service:authorization:profileUser:image:attributeKey:targetSize:compressionQuality:bytesLimit:)","required":true,"role":"symbol"},"sections":[],"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["iOS"],"tokens":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"updateUserAvatarLegacy"},{"kind":"text","text":"("},{"kind":"externalParam","text":"service"},{"kind":"text","text":": "},{"text":"EdgeClient","kind":"typeIdentifier","preciseIdentifier":"c:@M@EdgeCore@objc(cs)EdgeClient","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient"},{"text":".","kind":"text"},{"text":"Service","preciseIdentifier":"s:8EdgeCore0A6ClientC7ServiceV","kind":"typeIdentifier","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient\/Service"},{"kind":"text","text":", "},{"text":"authorization","kind":"externalParam"},{"kind":"text","text":": "},{"text":"EdgeClient","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient","preciseIdentifier":"c:@M@EdgeCore@objc(cs)EdgeClient","kind":"typeIdentifier"},{"text":".","kind":"text"},{"kind":"typeIdentifier","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient\/Authorization","preciseIdentifier":"s:8EdgeCore0A6ClientC13AuthorizationV","text":"Authorization"},{"text":", ","kind":"text"},{"text":"profileUser","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeServiceClient\/User","preciseIdentifier":"s:8EdgeCore0A13ServiceClientP4UserQa","text":"User"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"image"},{"text":": ","kind":"text"},{"text":"UIImage","preciseIdentifier":"c:objc(cs)UIImage","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"attributeKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":"?, ","kind":"text"},{"text":"targetSize","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@S@CGSize","kind":"typeIdentifier","text":"CGSize"},{"kind":"text","text":"?, "},{"text":"compressionQuality","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"CGFloat","kind":"typeIdentifier","preciseIdentifier":"s:14CoreFoundation7CGFloatV"},{"text":"?, ","kind":"text"},{"text":"bytesLimit","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":"?) ","kind":"text"},{"text":"async","kind":"keyword"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:s6ResultO","kind":"typeIdentifier","text":"Result"},{"kind":"text","text":"<"},{"identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeServiceClient\/User","text":"User","preciseIdentifier":"s:8EdgeCore0A13ServiceClientP4UserQa","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSError","text":"NSError"},{"kind":"text","text":">"}],"languages":["swift"]}]},{"kind":"parameters","parameters":[{"name":"service","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient\/Service"},{"type":"text","text":" configuration with user access authentication scopes."}]}]},{"content":[{"inlineContent":[{"text":"User authorization, such as the one from ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient\/authorizeUser(email:password:edgeEngineIdToken:service:)","isActive":true},{"type":"text","text":"."}],"type":"paragraph"}],"name":"authorization"},{"name":"profileUser","content":[{"inlineContent":[{"text":"Profile user to update the legacy profile avatar image on mTS storage for.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Profile avatar image."}]}],"name":"image"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Attribute key name to store the profile image under. If the default “image” key is used then the profile image value is transferred to a standalone thumbnail service and the “avatar” property of the user profile is updated with a url to it. In order to store the profile image value directly as an attribute, use any other attribute key name. Default value is "},{"type":"codeVoice","code":"\"image\""},{"type":"text","text":"."}]}],"name":"attributeKey"},{"name":"targetSize","content":[{"type":"paragraph","inlineContent":[{"text":"Avatar image target size. Default value is ","type":"text"},{"code":"CGSize","type":"codeVoice"},{"type":"text","text":" "},{"type":"codeVoice","code":"CGSize(width: 300.0, height: 300.0)"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Optional avatar image compressionQuality. Default value is "},{"type":"codeVoice","code":"CGFloat"},{"type":"text","text":" "},{"type":"codeVoice","code":"0.5"},{"type":"text","text":"."}]}],"name":"compressionQuality"},{"name":"bytesLimit","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Avatar image size bytes limit. Default value is "},{"type":"codeVoice","code":"Int"},{"text":" ","type":"text"},{"code":"75_000","type":"codeVoice"},{"type":"text","text":"."}]}]}]},{"kind":"content","content":[{"anchor":"return-value","type":"heading","level":2,"text":"Return Value"},{"type":"paragraph","inlineContent":[{"text":"Updated profile service user struct or an error.","type":"text"}]}]},{"kind":"content","content":[{"type":"heading","level":2,"anchor":"discussion","text":"Discussion"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If the default “image” key is used then the profile image value is transferred to a standalone thumbnail service and the “avatar” property of the user profile is updated with a url to it. In order to store the profile image value directly as an attribute, use any other attribute key name."}]}],"name":"Warning","type":"aside","style":"warning"},{"style":"warning","content":[{"inlineContent":[{"type":"text","text":"If the default “image” key is used then this method requires a standalone thumbnail service to be part of your backend deployment configuration."}],"type":"paragraph"}],"type":"aside","name":"Warning"},{"content":[{"type":"paragraph","inlineContent":[{"text":"The standalone thumbnail service has a hard limit of 100K chars for the total data volume of the network request. You can use the default targetSize, compressionQuality and bytesLimit values in order to avoid going over the limit.","type":"text"}]}],"name":"Warning","type":"aside","style":"warning"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/edgecore\/edgeserviceclient\/updateuseravatarlegacy(service:authorization:profileuser:image:attributekey:targetsize:compressionquality:byteslimit:)"]}],"references":{"doc://com.mimik.EdgeCore/documentation/EdgeCore/EdgeClient":{"identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"EdgeClient"}],"navigatorTitle":[{"kind":"identifier","text":"EdgeClient"}],"type":"topic","title":"EdgeClient","kind":"symbol","role":"symbol","url":"\/documentation\/edgecore\/edgeclient","abstract":[{"text":"The purpose of the mimik Client Library is to provide a programmatic way to work with the edgeEngine Runtime to access information about the mobile device on which the application is running, as well as mobile devices running within a cluster of mobile devices that are hosting the edgeEngine Runtime. Also, to allow developers to use edge microservices running within a particular cluster.","type":"text"}]},"doc://com.mimik.EdgeCore/documentation/EdgeCore/EdgeServiceClient/User":{"identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeServiceClient\/User","type":"topic","title":"User","kind":"symbol","fragments":[{"text":"associatedtype","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"User"}],"role":"symbol","url":"\/documentation\/edgecore\/edgeserviceclient\/user","abstract":[],"required":true},"doc://com.mimik.EdgeCore/documentation/EdgeCore/EdgeServiceClient":{"identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeServiceClient","type":"topic","title":"EdgeServiceClient","kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"EdgeServiceClient"}],"role":"symbol","url":"\/documentation\/edgecore\/edgeserviceclient","navigatorTitle":[{"text":"EdgeServiceClient","kind":"identifier"}],"abstract":[{"type":"text","text":"Additional profile user, location and friend API."}]},"doc://com.mimik.EdgeCore/documentation/EdgeCore/EdgeServiceClient/updateUserAvatarLegacy(service:authorization:profileUser:image:attributeKey:targetSize:compressionQuality:bytesLimit:)":{"type":"topic","role":"symbol","url":"\/documentation\/edgecore\/edgeserviceclient\/updateuseravatarlegacy(service:authorization:profileuser:image:attributekey:targetsize:compressionquality:byteslimit:)","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeServiceClient\/updateUserAvatarLegacy(service:authorization:profileUser:image:attributeKey:targetSize:compressionQuality:bytesLimit:)","abstract":[{"type":"text","text":"Updates legacy avatar image stored on mTS service for a profile user."}],"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"updateUserAvatarLegacy","kind":"identifier"},{"text":"(","kind":"text"},{"text":"service","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@EdgeCore@objc(cs)EdgeClient","text":"EdgeClient","kind":"typeIdentifier"},{"kind":"text","text":"."},{"preciseIdentifier":"s:8EdgeCore0A6ClientC7ServiceV","kind":"typeIdentifier","text":"Service"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"authorization"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"EdgeClient","preciseIdentifier":"c:@M@EdgeCore@objc(cs)EdgeClient"},{"kind":"text","text":"."},{"preciseIdentifier":"s:8EdgeCore0A6ClientC13AuthorizationV","text":"Authorization","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"profileUser","kind":"externalParam"},{"kind":"text","text":": "},{"text":"User","kind":"typeIdentifier","preciseIdentifier":"s:8EdgeCore0A13ServiceClientP4UserQa"},{"kind":"text","text":", "},{"text":"image","kind":"externalParam"},{"kind":"text","text":": "},{"text":"UIImage","preciseIdentifier":"c:objc(cs)UIImage","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"attributeKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":"?, ","kind":"text"},{"text":"targetSize","kind":"externalParam"},{"kind":"text","text":": "},{"text":"CGSize","preciseIdentifier":"c:@S@CGSize","kind":"typeIdentifier"},{"kind":"text","text":"?, "},{"text":"compressionQuality","kind":"externalParam"},{"kind":"text","text":": "},{"text":"CGFloat","kind":"typeIdentifier","preciseIdentifier":"s:14CoreFoundation7CGFloatV"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"bytesLimit"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":"?) "},{"text":"async","kind":"keyword"},{"kind":"text","text":" -> "},{"text":"Result","preciseIdentifier":"s:s6ResultO","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"User","kind":"typeIdentifier","preciseIdentifier":"s:8EdgeCore0A13ServiceClientP4UserQa"},{"text":", ","kind":"text"},{"text":"NSError","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSError"},{"text":">","kind":"text"}],"title":"updateUserAvatarLegacy(service:authorization:profileUser:image:attributeKey:targetSize:compressionQuality:bytesLimit:)","kind":"symbol","required":true},"doc://com.mimik.EdgeCore/documentation/EdgeCore/EdgeClient/authorizeUser(email:password:edgeEngineIdToken:service:)":{"role":"symbol","type":"topic","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient\/authorizeUser(email:password:edgeEngineIdToken:service:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"authorizeUser","kind":"identifier"},{"kind":"text","text":"("},{"text":"email","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"password"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"edgeEngineIdToken"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"service"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:8EdgeCore0A6ClientC7ServiceV","text":"Service"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Result","preciseIdentifier":"s:s6ResultO"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:8EdgeCore0A6ClientC13AuthorizationV","text":"Authorization"},{"text":", ","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSError","text":"NSError","kind":"typeIdentifier"},{"text":">","kind":"text"}],"url":"\/documentation\/edgecore\/edgeclient\/authorizeuser(email:password:edgeengineidtoken:service:)","abstract":[{"text":"Authorizes user for ","type":"text"},{"code":"edgeEngine","type":"codeVoice"},{"type":"text","text":" access using the "},{"type":"codeVoice","code":"email"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"password"},{"text":" authentication method.","type":"text"}],"kind":"symbol","title":"authorizeUser(email:password:edgeEngineIdToken:service:)"},"doc://com.mimik.EdgeCore/documentation/EdgeCore":{"title":"EdgeCore","abstract":[{"text":"mimik Client Library for iOS provides a programmatic way to work with the edgeEngine Runtime to access information about the mobile device on which the application is running.","type":"text"}],"role":"collection","type":"topic","kind":"symbol","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore","url":"\/documentation\/edgecore"},"doc://com.mimik.EdgeCore/documentation/EdgeCore/EdgeClient/Service":{"identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient\/Service","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Service","kind":"identifier"}],"navigatorTitle":[{"text":"Service","kind":"identifier"}],"type":"topic","title":"EdgeClient.Service","kind":"symbol","role":"symbol","url":"\/documentation\/edgecore\/edgeclient\/service","abstract":[{"type":"text","text":"Service configuration."}]},"doc://com.mimik.EdgeCore/documentation/EdgeCore/EdgeClient/Authorization":{"role":"symbol","identifier":"doc:\/\/com.mimik.EdgeCore\/documentation\/EdgeCore\/EdgeClient\/Authorization","type":"topic","url":"\/documentation\/edgecore\/edgeclient\/authorization","navigatorTitle":[{"kind":"identifier","text":"Authorization"}],"kind":"symbol","title":"EdgeClient.Authorization","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"Authorization","kind":"identifier"}],"abstract":[{"code":"Authorization","type":"codeVoice"},{"text":" with ","type":"text"},{"type":"codeVoice","code":"Access Token"},{"text":" or ","type":"text"},{"code":"Validation Codes","type":"codeVoice"},{"type":"text","text":" components."}]}}}